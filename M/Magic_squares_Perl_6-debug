#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Magic_squares/Perl_6
#t# skiptest
#n# cf ~/perl5/Rosetta-Code/M/Magic_squares_Perl-debug
#n# https://stackoverflow.com/questions/55994128/multiple-post-increment-and-decrement-operations-in-a-statement-perl-5-vs-perl


# correct
my @sq1; my $i = 1; my $x = 3/2; my $y = 0;
@sq1[($i % 3 ?? $y-- !! $y++) % 3][($i % 3 ?? $x++ !! $x) % 3] = $i++ for 0.. 3**2 - 1;
#say join ' ', $_ for @sq1; say '';
#dd @sq1;

# correct
#my @sq2; 3 = 3; $i = 1; $x = 3/2; $y = 0;
#for 0 .. 3**2 - 1 {
#    @sq2[$y%3][$x%3] = $i;
#    $i%3 ?? $y-- !! $y++;
#    $x++ if $i % 3;
#    $i++;
#}
#say join ' ', $_ for @sq2;
