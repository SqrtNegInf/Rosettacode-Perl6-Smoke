#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Loops/Nested
#c# 2016-05-10 <RC
#m# MOAR: OK
#j#  JVM: OK

srand 123456;

my @a = [ (1..20).roll(10) ] xx *;

my @res; my $data;
LINE: for @a -> @line {
    $data = '';
    for @line -> $elem {
        $data ~= " $elem";
        last LINE if $elem == 20;
    }
    @res.push: $data;
}
@res.push: $data;

.say for @res;

my $moar = qq:to/END/;
 4 3 3 12 16 14 9 6 2 2
 12 6 7 10 11 15 11 19 3 14
 6 1 9 6 1 18 14 8 6 17
 16 16 16 3 5 9 6 13 2 9
 15 14 3 6 10 8 10 14 11 9
 15 1 19 12 15 2 5 12 5 18
 6 7 6 14 3 19 1 4 20
END

my $jvm = qq:to/END/;
 8 15 11 14 20
END

use Test;
my $ref = $*VM ~~ /jvm/ ?? $jvm !! $moar;
is @res.join("\n"), chomp $ref;
