#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Eval_in_environment
#c# 2015-12-22 <>RC
#m# MOAR: OK
#j#  JVM: OK

use MONKEY-SEE-NO-EVAL;

sub eval_with_x($code, *@x) { [R-] @x.map: -> \x { EVAL $code } }

say my $o1 = eval_with_x('3 * x', 5, 10);      # Says "15"
say my $o2 = eval_with_x('3 * x', 5, 10, 50);  # Says "105"

use Test;
is $o1, 15;
is $o2, 105;
