#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Index_finite_lists_of_positive_integers
#c# 2016-04-17 <RC
#m# MOAR: OK
#j#  JVM: OK

srand 123456;

#Here is a cheap solution using a base-11 encoding and string operations:

sub rank(*@n)      { :11(@n.join('A')) }
sub unrank(Int $n) { $n.base(11).split('A') }

say my @n = (^20).roll(12);
{@n[0] = @n[1]; @n[1] = 0 } if @n[0] == 0; # fails when a zero leads the list
say my $n = rank(@n);
say unrank $n;

use Test;
is @n, (unrank $n);
