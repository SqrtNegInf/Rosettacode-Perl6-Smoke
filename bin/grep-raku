#!/usr/local/bin/perl
## grep Rosettacode code
#  2019-10-29

use strict;
use warnings;

my $p = shift || die;

# hypers
if    ($p =~ />>/) { $p =~ s/>>/(>>|┬╗)/g }
elsif ($p =~ /┬╗/)  { $p =~ s/┬╗/(>>|┬╗)/g  }

my $l = '<<'; # kludge for vim high-lighting bug
if    ($p =~ /$l/) { $p =~ s/$l/(<<|┬Ф)/g }
elsif ($p =~ /┬Ф/)  { $p =~ s/┬Ф/(<<|┬Ф)/g  }

# math
if    ($p =~ />=/) { $p =~ s/>=/(>=|РЅЦ)/g } 
elsif ($p =~ /РЅЦ/)  { $p =~ s/РЅЦ/(>=|РЅЦ)/g  }

if    ($p =~ /<=/) { $p =~ s/<=/(<=|РЅц)/g } 
elsif ($p =~ /РЅц/)  { $p =~ s/РЅц/(<=|РЅц)/g  }

if    ($p =~ /=~=/) { $p =~ s/=~=/(=~=|РЅЁ)/g } 
elsif ($p =~ /РЅЁ/)   { $p =~ s/РЅЁ/(=~=|РЅЁ)/g  }

# Inf/Рѕъ
if    ($p =~ /\bInf\b/) { $p =~ s/\bInf\b/(\\bInf\\b|Рѕъ)/g }
elsif ($p =~ /Рѕъ/)       { $p =~ s/Рѕъ/(Рѕъ|\\bInf\\b)/g       }

# set/logic (just one-way transform)
$p =~ s/Рѕќ/(Рѕќ|\\(-\\))/;
$p =~ s/Рѕѕ/(Рѕѕ|\\(elem\\))/;
$p =~ s/РѕЅ/(РѕЅ|!\\(elem\\))/;
$p =~ s/РѕІ/(РѕІ|\\(cont\\))/;
$p =~ s/Ріє/(Ріє|!\\(<=\\))/;
$p =~ s/Ріѕ/(Ріѕ|!\\(<=\\))/;
$p =~ s/Ріѓ/(Ріѓ|\\(<\\))/;
$p =~ s/Ріё/(Ріё|!\\(<\\))/;
$p =~ s/РіЄ/(РіЄ|\\(>=\\))/;
$p =~ s/РіЅ/(РіЅ|!\\(>=\\))/;
$p =~ s/РіЃ/(РіЃ|\\(>\\))/;
$p =~ s/РіЁ/(РіЁ|!\\(>\\))/;
$p =~ s/Рѕф/(Рѕф|\\(\|\\))/;
$p =~ s/РѕЕ/(РѕЕ|\\(&\\))/;
$p =~ s/Ріќ/(Ріќ|\\(^\\))/;
$p =~ s/РіЇ/(РіЇ|\\(\.\\))/;
$p =~ s/Ріј/(Ріј|\\(\+\\))/;

# Unicode
$p =~ s/U:SUPER/(РЂ░|┬╣|┬▓|┬│|РЂ┤|РЂх|РЂХ|РЂи|РЂИ|РЂ╣|рхќ|┬░|┬»|РЂ╗|РЂ║)/;
$p =~ s/U:GREEK/(╬Њ|╬ћ|╬ў|╬Џ|╬ъ|╬а|╬Б|╬д|╬е|╬Е|╬▒|╬▓|╬│|╬┤|╬х|╬Х|╬и|╬И|╬╣|╬║|╬╗|╬╝|╬й|╬Й|╬┐|¤ђ|¤Ђ|¤Ѓ|¤ё|¤Ё|¤є|¤Є|¤ѕ|¤Ѕ|¤Ћ)/;
$p =~ s/U:MATH/(РЅц|РЅЦ|├и|├Ќ|РЅѕ|РЅЁ|рљЂ|Рѕџ|РѕФ|књ|­ЮЉњ|Рѕъ|Рћѓ|Рѕў|РѕЎ|┬и)/; # '┬и' defined in Clifford module?
$p =~ s/U:SET/(Рѕѕ|РѕЅ|РѕІ|Рѕї|Ріє|Ріѕ|Ріѓ|Ріё|РіЄ|РіЅ|РіЃ|РіЁ|РЅ╝|РЅй|Рѕф|РѕЕ|Рѕќ|Ріќ|РіЇ|Ріј|├И|Рѕњ)/;
$p =~ s/U:LOGIC/(┬г|Рѕе|РѕД|РЄњ|Рєњ|РЅА|├И)/; # dup ├И from 'SET'

exec qq{ack '$p' [0A-Z]};

__END__

РЅ╝   (<+)  # gone?
РЅй   (>+)  # gone?

Рѕњ # set operation?
┬» РЂ╗ РЂ║ # not being used so far except in strings
Рѕў # ring
¤х ¤░ ¤Ћ ¤▒ ¤ќ # symbols
┬х # micron, math symbol (but in RC used as char)

╬Љ ╬њ ╬Њ ╬ћ ╬Ћ ╬ќ ╬Ќ ╬ў ╬Ў ╬џ ╬Џ ╬ю ╬Ю ╬ъ ╬Ъ ╬а ╬А ╬Б ╬ц ╬Ц ╬д ╬Д ╬е ╬Е
╬▒ ╬▓ ╬│ ╬┤ ╬х ╬Х ╬и ╬И ╬╣ ╬║ ╬╗ ╬╝ ╬й ╬Й ╬┐ ¤ђ ¤Ђ ¤Ѓ ¤ё ¤Ё ¤є ¤Є ¤ѕ ¤Ѕ

­Юљи ­ЮЉ│ ­ЮЉђ ­ЮЉЂ ­ЮЉЃ ­ЮЉё ­ЮЉЁ ­ЮЉє ­ЮЉј ­ЮЉЈ ­ЮЉљ ­ЮЉЏ ­ЮЉЮ ­ЮЉА
