#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Thue-Morse
#c# 2015-12-22 <>RC, 2018-04-07 <RC
#m# MOAR: OK
#j#  JVM: OK

constant tm = 0, { | @_.map: + ! * } ... *;

say tm[^64].join;

my @res.push: $_ for (0, { '0' ~ @_.join.trans( "01" => "10", :g) } ... *)[^8];
.say for @res;

my $ref = qq:to/END/;
0
01
0110
01101001
0110100110010110
01101001100101101001011001101001
0110100110010110100101100110100110010110011010010110100110010110
01101001100101101001011001101001100101100110100101101001100101101001011001101001011010011001011001101001100101101001011001101001
END


use Test;
is tm[^64].join, '0110100110010110100101100110100110010110011010010110100110010110';
is @res.join("\n"), chomp $ref;
